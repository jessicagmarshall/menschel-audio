(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,n){t.exports=n(31)},21:function(t,e,n){},3:function(t){t.exports=[{input:5,output:0,audio:"quBjcCbP"},{input:2,output:4,audio:"QxEXVDuc"},{input:5,output:4,audio:"xPpUCJMr"},{input:4,output:3,audio:"WQQinmTA"},{input:4,output:2,audio:"bTXTRaLM"},{input:5,output:1,audio:"QXdVDtha"},{input:0,output:1,audio:"JoldxLRP"},{input:1,output:4,audio:"xCWLxhyw"},{input:1,output:0,audio:"pGQxbaeL"},{input:4,output:1,audio:"unhusRMP"},{input:4,output:1,audio:"MqhjcvME"},{input:2,output:4,audio:"IVPULtSY"},{input:3,output:1,audio:"BGJSjYqt"},{input:0,output:1,audio:"dbaIdXuF"},{input:5,output:2,audio:"JDHuhubs"},{input:5,output:0,audio:"OMgXoDEm"},{input:5,output:2,audio:"llWWvsIS"},{input:1,output:3,audio:"iEBGdRFP"},{input:1,output:3,audio:"ZbvModGd"},{input:0,output:4,audio:"UjSHMOOi"},{input:4,output:2,audio:"RmvPzVmD"},{input:5,output:3,audio:"MTNOAnsL"}]},31:function(t,e,n){"use strict";n.r(e);var o=n(1),u=n.n(o),a=n(15),i=n.n(a),s=(n(21),n(6)),r=n(7),l=n(9),c=n(8),p=n(10),d=n(5),h=n.n(d),f=n(12),g=n(4),m=n(13),w=n(11),b=n.n(w),T=(n(29),n(3)),v=[{Header:"Input Tag",accessor:"input"},{Header:"Output Tag",accessor:"output"},{Header:"Audio ID",accessor:"audio"}],j=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(c.a)(e).call(this))).state={rowContent:{input:"",output:"",id:""},audio:"",paused:!1,tagList:[0,1,2,3,4,5],rowBlue:!1,flashingTime:10,numFlashes:0,nextRow:""},t.injectThProps=t.injectThProps.bind(Object(g.a)(Object(g.a)(t))),t.generateSet=t.generateSet.bind(Object(g.a)(Object(g.a)(t))),t.flashBar=t.flashBar.bind(Object(g.a)(Object(g.a)(t))),t}return Object(p.a)(e,t),Object(r.a)(e,[{key:"componentWillMount",value:function(){this.generateSet()}},{key:"generateSet",value:function(t){var e,n,o=this;""!==this.state.audioUrl&&this.setState({audioUrl:""}),""===this.state.rowContent.id?console.log("randomly generate an input tag for the first audio file"):console.log("end of audio file",this.state.rowContent.id,"with output tag",this.state.rowContent.output),setTimeout(Object(f.a)(h.a.mark(function u(){return h.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,o.getNextIndex();case 2:n=u.sent,e=void 0===t?n[0]:t,setTimeout(function(){console.log("collecting all audio files with input tag",T[e].input,":",n[1]),setTimeout(function(){console.log("randomly select audio file",T[e].audio,"from list of files with input tag",T[e].input,"and fetch it from the server"),fetch("http://sentient-computer.local:3003/audioDuration?id="+e).then(function(t){t.json().then(function(t){setTimeout(function(){console.log("start playing clip",T[e].audio),o.setState({duration:t.duration,rowIndex:e,rowContent:{input:T[e].input,output:T[e].output,id:T[e].audio},audioUrl:"http://sentient-computer.local:3003/audio?id="+e}),setTimeout(o.flashBar,1e3*(o.state.duration-o.state.flashingTime))},4e3)})})},6e3)},4e3);case 5:case"end":return u.stop()}},u,this)})),4e3)}},{key:"getNextIndex",value:function(){var t=Object(f.a)(h.a.mark(function t(){var e,n,o,u,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],n=[],o=""===this.state.rowContent.output?this.state.tagList[this.getRandomInt(0,this.state.tagList.length)]:this.state.rowContent.output,a=0;a<T.length;a++)T[a].input===o&&(e.push(a),n.push(T[a].audio));return console.log("next input tag is",o),u=this.getRandomInt(0,e.length),t.abrupt("return",[e[u],n]);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRandomInt",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}},{key:"injectThProps",value:function(t,e,n){return{style:{display:"none"}}}},{key:"flashBar",value:function(){var t,e=this;this.setState({rowBlue:!this.state.rowBlue,numFlashes:this.state.numFlashes+1}),this.state.numFlashes<35?(t=this.state.numFlashes<9?this.state.flashingTime/20:this.state.numFlashes<25?this.state.flashingTime/40:this.state.flashingTime/80,setTimeout(this.flashBar,1e3*t)):(setTimeout(function(){e.setState({numFlashes:0,rowBlue:!e.state.rowBlue})},1e3*this.state.flashingTime/80),this.generateSet())}},{key:"render",value:function(){var t=this;return console.log(document.URL.substr(0,document.URL.length-5)),u.a.createElement("div",null,u.a.createElement(b.a,{url:this.state.audioUrl||"",playStatus:this.state.paused?b.a.status.PAUSED:b.a.status.PLAYING}),u.a.createElement(m.a,{data:T,columns:v,showPagination:!1,sortable:!1,loadingText:null,defaultPageSize:T.length+2,getTdProps:function(e,n,o,u){return"undefined"!==typeof n?{onClick:function(e,o){t.generateSet(n.index)},style:{background:n.index!==t.state.rowIndex?"white":t.state.rowBlue?"purple":"yellow",color:n.index!==t.state.rowIndex?"black":t.state.rowBlue?"white":"black"}}:{}}}),u.a.createElement(m.a,{data:[{input:this.state.rowContent.input,output:this.state.rowContent.output,audio:this.state.rowContent.id}],columns:v,getTheadThProps:this.injectThProps,showPagination:!1,sortable:!1,minRows:1,loadingText:null,style:{position:"fixed",width:"100%",backgroundColor:this.state.rowBlue?"purple":"yellow",color:this.state.rowBlue?"white":"black",bottom:0,height:60},getTdProps:function(t,e,n,o){return{onClick:function(t,e){}}}}))}}]),e}(o.Component),x=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return u.a.createElement(j,null)}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(u.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.9098f017.chunk.js.map